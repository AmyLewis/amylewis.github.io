<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><title>urlparse 源码阅读 | Amyy Lewis</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="author" content="[object Object]"><meta name="designer" content="minfive"><meta name="keywords" content="life tech"><meta name="description" content="Fledgling Developer | Backpacker | Doing all I can to be a better girl."><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=yes"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="all"><link rel="canonical" href="http://amylewis.github.io/2018/07/23/urlparse-%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/index.html"><link rel="icon" type="image/png" href="http://oo12ugek5.bkt.clouddn.com/blog/images/favicon.ico" sizes="32x32"><link rel="stylesheet" href="/scss/base/index.css"><link rel="alternate" href="/atom.xml" title="AmyLewis" type="application/atom+xml"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-66043212-2"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-66043212-2")</script><link rel="stylesheet" href="/scss/views/page/post.css"><meta name="generator" content="Hexo 6.3.0"></head><body ontouchstart><div id="page-loading" class="page page-loading" style="background-image:url(https://user-images.githubusercontent.com/3325198/52893052-6d1d2d80-31d3-11e9-91c2-736385c3278a.gif)"></div><div id="page" class="page js-hidden"><header class="page__small-header page__header--small"><nav class="page__navbar"><div class="page__container navbar-container"><a class="page__logo" href="/" title="AmyLewis" alt="AmyLewis"><img src="https://user-images.githubusercontent.com/3325198/52892707-fc284680-31cf-11e9-932d-e3cde3ef02f3.png" alt="AmyLewis"></a><nav class="page__nav"><ul class="nav__list clearfix"><li class="nav__item"><a href="/" alt="首页" title="首页">首页</a></li><li class="nav__item"><a href="/archives" alt="归档" title="归档">归档</a></li><li class="nav__item"><a href="/about" alt="关于" title="关于">关于</a></li></ul></nav><button class="page__menu-btn" type="button"><i class="iconfont icon-menu"></i></button></div></nav></header><main class="page__container page__main"><div class="page__content"><article class="page__post"><div class="post__cover"><img src="https://user-images.githubusercontent.com/3325198/52894687-16225300-31e9-11e9-9903-cf4bad31f470.jpg" alt="urlparse 源码阅读"></div><header class="post__info"><h1 class="post__title">urlparse 源码阅读</h1><div class="post__mark"><div class="mark__block"><i class="mark__icon iconfont icon-write"></i><ul class="mark__list clearfix"><li class="mark__item"><a target="_blank" rel="noopener" href="https://www.github.com/amylewis">amy</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-time"></i><ul class="mark__list clearfix"><li class="mark__item"><span>2018-07-23</span></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-tab"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="/tags/tech/">Tech</a></li><li class="mark__item"><a href="/tags/code-reading/">Code_reading</a></li></ul></div></div></header><div class="post__content"><p><strong>Table of content:</strong></p><div class="toc"><ul><li><a href="#guan-yu-url-jie-gou">关于 URL 结构</a></li><li><a href="#zhu-yao-de-lei">主要的类</a><ul><li><a href="#parseresult">ParseResult</a></li><li><a href="#resultmixin">ResultMixin</a></li></ul></li><li><a href="#functions">functions</a><ul><li><a href="#urljoin">urljoin</a></li></ul></li><li><a href="#reference">Reference</a></li><li><a href="#guan-yu-tou-tu">关于头图</a></li></ul></div><br><p>写这篇文章的初衷是在在使用 urljoin 的过程中，有几次的结果是我始料未及的，比如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urlparse <span class="keyword">import</span> urljoin</span><br><span class="line"></span><br><span class="line">urljoin(<span class="string">&quot;//xxx.test.com/api/v1/&quot;</span>, <span class="string">&#x27;/path/a&#x27;</span>) <span class="comment"># http://xxx.test.com/path/a</span></span><br><span class="line">urljoin(<span class="string">&#x27;http://xxx.test.com/api/v1&#x27;</span>, <span class="string">&#x27;/path/a&#x27;</span>) <span class="comment"># http://xxx.test.com/path/a</span></span><br><span class="line"></span><br><span class="line">urljoin(<span class="string">&#x27;http://xxx.test.com/api/v1&#x27;</span>, <span class="string">&#x27;path/a&#x27;</span>)  <span class="comment"># http://xxx.test.com/api/path/a</span></span><br><span class="line">urljoin(<span class="string">&#x27;http://xxx.test.com/api/v1/&#x27;</span>, <span class="string">&#x27;path/a&#x27;</span>) <span class="comment"># http://xxx.test.com/api/v1/path/a</span></span><br></pre></td></tr></table></figure><p>那么 urljoin 是怎么做的，urlparse 里还有什么其他的 function, 这里面涉及到的类有哪些？因为代码很简单，这篇文章只是一些逻辑分析。</p><h2><span id="guan-yu-url-jie-gou">关于 URL 结构</span><a href="#guan-yu-url-jie-gou" class="header-anchor"></a></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;scheme&gt;://&lt;netloc&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;fragment&gt;</span><br><span class="line">&lt;scheme&gt;://&lt;username&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/&lt;path&gt;;&lt;parameters&gt;?&lt;query&gt;#&lt;fragment&gt;</span><br></pre></td></tr></table></figure><ul><li>scheme, URL 使用的协议, 比如 HTTP, HTTPS, FTP</li><li>netloc, Network Location Part, 在 <a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc1808.html">RFC</a> 里面提到的是在 <code>//</code> 后面正式引入的才是 netloc， 比如 <code>urlparse(&#39;www.cwi.nl/%7Eguido/Python.html&#39;)</code> parse 出来的 netloc 是 <code>&#39;&#39;</code> 而 path 是 <code>&#39;www.cwi.nl/%7Eguido/Python.html&#39;</code></li><li>username, password, host, port, path 对照上面的结构其实很清晰了。</li><li>parameters, 用 <code>;</code> 分隔出来的 kv，使用的场景非常少, 在 <a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc3986#section-3.3">RFC</a> 里面也没有太看出和 query 的使用区别是什么。</li><li>query, 用 <code>?</code> 分隔出来的 kv,</li><li>fragment, 用 <code>#</code> 分隔出来的锚点</li></ul><h2><span id="zhu-yao-de-lei">主要的类</span><a href="#zhu-yao-de-lei" class="header-anchor"></a></h2><p>在 urlparse 中有两个比较关键的类 ParseResult, 和 ResultMixin</p><h3><span id="parseresult">ParseResult</span><a href="#parseresult" class="header-anchor"></a></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ParseResult</span>(namedtuple(<span class="string">&#x27;ParseResult&#x27;</span>, <span class="string">&#x27;scheme netloc path params query fragment&#x27;</span>), ResultMixin):</span><br><span class="line"></span><br><span class="line">    __slots__ = ()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">geturl</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> urlunparse(self)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Python 在各个实例中名为 <code>__dict__</code> 里存储实例属性，为了使用底层的散列表提高访问速度，字典会消耗大量的内存。如果要处理数百万个属性不多的实例，通过 <code>__slots__</code> 类属性，能节省大量的内存，方法是让解释器在元祖中存储实例属性，而不用字典。</p><p>注：</p><ul><li>继承自超类的 <code>__slots__</code> 属性没有效果，Python 只会使用各个类中定义的 <code>__slots__</code> 属性</li><li>实例只能拥有 <code>__slots__</code> 中列出的属性</li></ul><h3><span id="resultmixin">ResultMixin</span><a href="#resultmixin" class="header-anchor"></a></h3><p>ResultMixin 主要还是在把 netloc 里面的 username，password，host，port 的部分摘取出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ResultMixin</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Shared methods for the parsed result objects.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">username</span>(<span class="params">self</span>):</span><br><span class="line">        netloc = self.netloc</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;@&quot;</span> <span class="keyword">in</span> netloc:</span><br><span class="line">            userinfo = netloc.rsplit(<span class="string">&quot;@&quot;</span>, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&quot;:&quot;</span> <span class="keyword">in</span> userinfo:</span><br><span class="line">                userinfo = userinfo.split(<span class="string">&quot;:&quot;</span>, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">return</span> userinfo</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">password</span>(<span class="params">self</span>):</span><br><span class="line">        netloc = self.netloc</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;@&quot;</span> <span class="keyword">in</span> netloc:</span><br><span class="line">            userinfo = netloc.rsplit(<span class="string">&quot;@&quot;</span>, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&quot;:&quot;</span> <span class="keyword">in</span> userinfo:</span><br><span class="line">                <span class="keyword">return</span> userinfo.split(<span class="string">&quot;:&quot;</span>, <span class="number">1</span>)[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">hostname</span>(<span class="params">self</span>):</span><br><span class="line">        netloc = self.netloc.split(<span class="string">&#x27;@&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;[&#x27;</span> <span class="keyword">in</span> netloc <span class="keyword">and</span> <span class="string">&#x27;]&#x27;</span> <span class="keyword">in</span> netloc:</span><br><span class="line">            <span class="keyword">return</span> netloc.split(<span class="string">&#x27;]&#x27;</span>)[<span class="number">0</span>][<span class="number">1</span>:].lower()</span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&#x27;:&#x27;</span> <span class="keyword">in</span> netloc:</span><br><span class="line">            <span class="keyword">return</span> netloc.split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">0</span>].lower()</span><br><span class="line">        <span class="keyword">elif</span> netloc == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> netloc.lower()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">port</span>(<span class="params">self</span>):</span><br><span class="line">        netloc = self.netloc.split(<span class="string">&#x27;@&#x27;</span>)[-<span class="number">1</span>].split(<span class="string">&#x27;]&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;:&#x27;</span> <span class="keyword">in</span> netloc:</span><br><span class="line">            port = netloc.split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> port:</span><br><span class="line">                port = <span class="built_in">int</span>(port, <span class="number">10</span>)</span><br><span class="line">                <span class="comment"># verify legal port</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="number">0</span> &lt;= port &lt;= <span class="number">65535</span>):</span><br><span class="line">                    <span class="keyword">return</span> port</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这里比较有趣的是 hostname 是全部被处理成小写了。如果这里对大小写敏感，比如是 Mysql 或者 Redis 连接串时，可能就要注意了。</p><h2><span id="functions">functions</span><a href="#functions" class="header-anchor"></a></h2><p>主要的 function 有 urljoin、urlsplit、urlunsplit、urlparse, 这里目前只涉及到 urljoin</p><h3><span id="urljoin">urljoin</span><a href="#urljoin" class="header-anchor"></a></h3><p>在 urljoin 的过程中：</p><ul><li>urlsplit 会将传入的两个 URL parse 为 ParseResult 对象</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bscheme, bnetloc, bpath, bparams, bquery, bfragment = \</span><br><span class="line">        urlparse(base, <span class="string">&#x27;&#x27;</span>, allow_fragments)</span><br><span class="line">scheme, netloc, path, params, query, fragment = \</span><br><span class="line">        urlparse(url, bscheme, allow_fragments)</span><br></pre></td></tr></table></figure><ul><li>最近再根据不同的 scheme, 是否有 query，parameter，fragment 等情况将 parse 好的 URL unparse 回去, 返回完整的 URL</li></ul><h5><span id="zhi-de-zhu-yi-de-dian">值得注意的点</span><a href="#zhi-de-zhu-yi-de-dian" class="header-anchor"></a></h5><ul><li>后一个 url 如果是以 <code>/</code> 开头, 会直接返回后者的 path</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">urljoin(<span class="string">&#x27;http://xxx.test.com/api/v1&#x27;</span>, <span class="string">&#x27;/path/a&#x27;</span>)  <span class="comment"># http://xxx.test.com/path/a</span></span><br></pre></td></tr></table></figure><ul><li>如果后一个 url 不是以 <code>/</code> 开头，就会对两个 path 进行一些合并, 比如</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">urljoin(<span class="string">&#x27;http://xxx.test.com/api/v1&#x27;</span>, <span class="string">&#x27;path/a&#x27;</span>)  <span class="comment"># http://xxx.test.com/api/path/a</span></span><br></pre></td></tr></table></figure><h2><span id="reference">Reference</span><a href="#reference" class="header-anchor"></a></h2><ul><li>URL structure <a target="_blank" rel="noopener" href="https://www.skorks.com/2010/05/what-every-developer-should-know-about-urls/">https://www.skorks.com/2010/05/what-every-developer-should-know-about-urls/</a></li><li>urlparse 代码 <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/2.7/Lib/urlparse.py#L233:1">https://github.com/python/cpython/blob/2.7/Lib/urlparse.py#L233:1</a></li><li>Fluent Python 9.8 <code>__slots__</code></li><li>usage of slots <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/472000/usage-of-slots">https://stackoverflow.com/questions/472000/usage-of-slots</a></li><li><a target="_blank" rel="noopener" href="http://book.pythontips.com/en/latest/__slots__magic.html">http://book.pythontips.com/en/latest/__slots__magic.html</a></li></ul><h2><span id="guan-yu-tou-tu">关于头图</span><a href="#guan-yu-tou-tu" class="header-anchor"></a></h2><ul><li>拍摄自韩国首尔</li></ul><div class="post__prevs"><div class="post__prev"><a href="/2018/07/19/eafp/" title="防御式编程 EAFP 和 LBYL 的一些思考"><i class="iconfont icon-prev"></i>防御式编程 EAFP 和 LBYL 的一些思考</a></div><div class="post__prev post__prev--right"><a href="/2018/08/05/youtube-dl-download-%E7%9A%84%E8%AE%BE%E8%AE%A1/" title="youtube-dl download 的设计">youtube-dl download 的设计<i class="iconfont icon-next"></i></a></div></div></div></article><div id="disqus_thread"></div></div><aside class="page__sidebar"><form id="page-search-from" class="page__search-from" action="/search/"><label class="search-form__item"><input class="input" type="text" name="search" placeholder="Search..."> <i class="iconfont icon-search"></i></label></form><div class="sidebar__block"><h3 class="block__title">简介</h3><p class="block__text">Fledgling Developer | Backpacker | Doing all I can to be a better girl.</p></div><div class="sidebar__block"><h3 class="block__title">文章分类</h3><ul class="block-list"><li class="block-list-item"><a class="block-list-link" href="/categories/tech/">tech</a><span class="block-list-count">20</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/reading/">reading</a><span class="block-list-count">6</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/music/">music</a><span class="block-list-count">8</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/life/">life</a><span class="block-list-count">37</span></li></ul></div><div class="sidebar__block"><h3 class="block__title">最新文章</h3><ul class="block-list latest-post-list"><li class="latest-post-item"><a href="/2022/09/30/2022-02-09-digest/" title="2022 年 2 ~ 9 月摘要"><div class="item__cover"><img src="https://user-images.githubusercontent.com/3325198/194582186-ee38f13c-5d74-42e4-b1c1-90045c865a09.jpeg" alt="2022 年 2 ~ 9 月摘要"></div><div class="item__info"><h3 class="item__title">2022 年 2 ~ 9 月摘要</h3><span class="item__text">2022-09-30</span></div></a></li><li class="latest-post-item"><a href="/2022/01/31/2021-12-digest/" title="2021 年 12 月 & 1 月摘要"><div class="item__cover"><img src="https://user-images.githubusercontent.com/3325198/152668876-eb16783b-8204-432e-9d98-17a9e5a9b510.jpeg" alt="2021 年 12 月 & 1 月摘要"></div><div class="item__info"><h3 class="item__title">2021 年 12 月 & 1 月摘要</h3><span class="item__text">2022-01-31</span></div></a></li><li class="latest-post-item"><a href="/2021/11/30/2021-11-digest/" title="2021 年 11 月摘要"><div class="item__cover"><img src="https://user-images.githubusercontent.com/3325198/145077778-da1bc9f0-d052-423e-a8a2-4128c1fe12ee.jpeg" alt="2021 年 11 月摘要"></div><div class="item__info"><h3 class="item__title">2021 年 11 月摘要</h3><span class="item__text">2021-11-30</span></div></a></li><li class="latest-post-item"><a href="/2021/10/31/2021-10-digest/" title="2021 年 10 月摘要"><div class="item__cover"><img src="https://user-images.githubusercontent.com/3325198/140796892-d61c5310-8b08-49bd-955f-7d1f36ed8458.jpeg" alt="2021 年 10 月摘要"></div><div class="item__info"><h3 class="item__title">2021 年 10 月摘要</h3><span class="item__text">2021-10-31</span></div></a></li></ul></div><div class="sidebar__block"><h3 class="block__title">文章标签</h3><ul class="block-list tag-list clearfix"><li class="tag-item"><a class="tag-link" href="/tags/algorithm/">algorithm</a></li><li class="tag-item"><a class="tag-link" href="/tags/code-reading/">code_reading</a></li><li class="tag-item"><a class="tag-link" href="/tags/cookbook/">cookbook</a></li><li class="tag-item"><a class="tag-link" href="/tags/digest/">digest</a></li><li class="tag-item"><a class="tag-link" href="/tags/life/">life</a></li><li class="tag-item"><a class="tag-link" href="/tags/music-log/">music_log</a></li><li class="tag-item"><a class="tag-link" href="/tags/reading/">reading</a></li><li class="tag-item"><a class="tag-link" href="/tags/tech/">tech</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E5%AE%9E%E9%AA%8C/">实验</a></li></ul></div></aside></main><footer class="page__footer"><section class="footer__bottom"><div class="page__container footer__container"><p class="footer__copyright">© <a href="https://github.com/Mrminfive/hexo-theme-skapp" target="_blank">Skapp</a> 2018 powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, made by <a href="https://github.com/Mrminfive" target="_blank">minfive</a>, modified by <a href="https://github.com/AmyLewis" target="_blank">amy</a></p><ul class="footer__social-network clearfix"><li class="social-network__item"><a href="https://github.com/AmyLewis" target="_blank" title="github"><i class="iconfont icon-github"></i></a></li><li class="social-network__item"><a href="mailto:amylewis.private@gmail.com" target="_blank" title="email"><i class="iconfont icon-email"></i></a></li><li class="social-network__item"><a href="/atom.xml" target="_blank" title="rss"><i class="iconfont icon-rss"></i></a></li></ul></div></section></footer><div id="back-top" class="back-top back-top--hidden js-hidden"><i class="iconfont icon-top"></i></div></div><script src="/js/common.js"></script><script src="/js/page/post.js"></script><script>var disqus_shortname="amylewis777",disqus_config=function(){this.page.url="http://amylewis.github.io/2018/07/23/urlparse-源码阅读/",this.page.identifier="/2018/07/23/urlparse-源码阅读/",this.page.title="urlparse 源码阅读"};!function(){var e=document,t=e.createElement("script");t.src="https://"+disqus_shortname+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></body></html>